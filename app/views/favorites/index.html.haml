= stylesheet_link_tag 'favorites'

:ruby
  links = [link_to('add favorite', new_favorite_path)]
= scaffold_navigation(links: links, additional_class: 'mb-3', label: 'Favorites navigation')

%h1 Current favorites

%ol#sort_favorites
  - @favorites.each do |favorite|
    %li.item_drag{id: "favorite_#{favorite.id}", 'data-id': favorite.id}
      %span.drag
        = image_tag 'drag-indicator.svg', alt: 'drag to reorder', width: 50, height: 50
      %strong #{favorite.favorite_type}
      %ol
        - favorite.favorite_things.sorted.each do |thing|
          %li 
            = thing.link ? link_to(thing.thing, thing.link) : thing.thing
      %ul.item_navigation
        %li
          = link_to 'sort things', favorite
        %li
          = link_to 'edit things', edit_favorite_path(favorite)
        %li
          = link_to('destroy', favorite, data: { confirm: "Are you sure you want to delete your #{favorite.favorite_type} favorites?" }, method: :delete, remote: true)

= scaffold_navigation(links: links, additional_class: 'mt-3', label: 'Favorites navigation')

= javascript_include_tag :favorites